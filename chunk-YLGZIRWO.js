import{b as y,c as k}from"./chunk-2WW22MLQ.js";import"./chunk-VZSSPM6Z.js";import{a as u,b as T,c as f,f as C,g}from"./chunk-4TPATSYR.js";import"./chunk-6K3Y7BDI.js";import"./chunk-EYALUUED.js";import{Hb as a,Oa as m,Wb as e,Xb as p,bb as c,ma as l,wb as t,xb as i}from"./chunk-WWHZWTZN.js";import"./chunk-2NFLSA4Y.js";var v=class s{leakyValue=l("0");properValue=l("0");properTimerId=null;leakyTimer(){let r=0;setInterval(()=>{r++,this.leakyValue.set(r.toString()),console.log("Leaky timer:",r)},1e3)}properTimer(){let r=0;this.properTimerId=window.setInterval(()=>{r++,this.properValue.set(r.toString()),console.log("Proper timer:",r)},1e3)}properCleanup(){this.properTimerId!==null&&(clearInterval(this.properTimerId),this.properTimerId=null,this.properValue.set("stopped"),console.log("Timer cleared"))}ngOnDestroy(){console.log("\u{1F5D1}\uFE0F TimersComponent destroyed"),this.properTimerId!==null&&clearInterval(this.properTimerId)}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=c({type:s,selectors:[["app-timers-section"]],decls:29,vars:2,consts:[[1,"example-section"],["mat-raised-button","",3,"click"],[1,"log"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,n){o&1&&(t(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e(3,"Timer Memory Leaks (setInterval/setTimeout)"),i()(),t(4,"mat-card-content")(5,"p"),e(6," Timers created with "),t(7,"code"),e(8,"setInterval()"),i(),e(9," and "),t(10,"code"),e(11,"setTimeout()"),i(),e(12," continue running after component destruction if not explicitly cleared. "),i(),t(13,"div",0)(14,"h3"),e(15,"\u274C Memory Leak Example"),i(),t(16,"button",1),a("click",function(){return n.leakyTimer()}),e(17,"Start Leaky Timer"),i(),t(18,"div",2),e(19),i()(),t(20,"div",0)(21,"h3"),e(22,"\u2713 Correct Example"),i(),t(23,"button",3),a("click",function(){return n.properTimer()}),e(24," Start Timer (Cleaned) "),i(),t(25,"button",1),a("click",function(){return n.properCleanup()}),e(26,"Stop Timer"),i(),t(27,"div",2),e(28),i()()()()),o&2&&(m(19),p(n.leakyValue()),m(9),p(n.properValue()))},dependencies:[g,u,f,C,T,k,y],encapsulation:2,changeDetection:0})};export{v as TimersComponent};
