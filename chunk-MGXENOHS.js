import{b as v,c as S}from"./chunk-2WW22MLQ.js";import"./chunk-VZSSPM6Z.js";import{a as C,b as E,c as h,f as x,g as M}from"./chunk-4TPATSYR.js";import"./chunk-6K3Y7BDI.js";import"./chunk-EYALUUED.js";import{$ as d,Hb as s,Oa as l,Wb as n,X as u,Yb as f,bb as g,da as p,ma as a,oa as c,wb as e,xb as t}from"./chunk-WWHZWTZN.js";import"./chunk-2NFLSA4Y.js";var b=class m{injector=u(p);infiniteCounter=a(0);correctValue=a(0);infiniteLoopExample(){d(this.injector,()=>{c(()=>{let i=this.infiniteCounter();console.log("\u274C Infinite loop effect running:",i),i<10&&this.infiniteCounter.set(i+1)},{allowSignalWrites:!0})})}correctEffectExample(){this.correctValue.update(i=>i+1)}constructor(){c(()=>{console.log("\u2713 Proper effect - correctValue changed:",this.correctValue())})}static \u0275fac=function(o){return new(o||m)};static \u0275cmp=g({type:m,selectors:[["app-effects-section"]],decls:21,vars:2,consts:[[1,"example-section"],["mat-raised-button","",3,"click"],[1,"log"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,r){o&1&&(e(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3,"Signal Effects - Common Issues"),t()(),e(4,"mat-card-content")(5,"p"),n(6," Effects run side-effects when signals change, but misuse can cause infinite loops or memory leaks. "),t(),e(7,"div",0)(8,"h3"),n(9,"\u274C Infinite Loop - Effect Modifying Its Own Dependencies"),t(),e(10,"button",1),s("click",function(){return r.infiniteLoopExample()}),n(11," Trigger Infinite Loop (reduced to 10 iterations) "),t(),e(12,"div",2),n(13),t()(),e(14,"div",0)(15,"h3"),n(16,"\u2713 Correct - Effect with allowSignalWrites"),t(),e(17,"button",3),s("click",function(){return r.correctEffectExample()}),n(18," Trigger Correct Effect "),t(),e(19,"div",2),n(20),t()()()()),o&2&&(l(13),f("Counter: ",r.infiniteCounter()),l(7),f("Value: ",r.correctValue()))},dependencies:[M,C,h,x,E,S,v],encapsulation:2,changeDetection:0})};export{b as EffectsComponent};
