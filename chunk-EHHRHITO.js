import{b as v,c as y}from"./chunk-2WW22MLQ.js";import"./chunk-VZSSPM6Z.js";import{a as f,b as M,c as C,f as _,g as h}from"./chunk-4TPATSYR.js";import"./chunk-6K3Y7BDI.js";import"./chunk-EYALUUED.js";import{Hb as d,Oa as r,Wb as e,Yb as s,bb as U,hc as g,ma as u,wb as i,xb as t,yb as o}from"./chunk-WWHZWTZN.js";import{a as m,b}from"./chunk-2NFLSA4Y.js";var x=class p{initialUser={name:"John",age:25};badUser=u(this.initialUser);badUserAge=g(()=>this.badUser().age);goodUser=u(this.initialUser);goodUserAge=g(()=>this.goodUser().age);mutateDirectly(){this.badUser().age++}updateIncorrectly(){this.badUser.update(a=>(a.age++,a))}updateReference(){this.goodUser.set(m({},this.goodUser()))}updateCorrectly(){this.goodUser.update(a=>b(m({},a),{age:a.age+1}))}static \u0275fac=function(l){return new(l||p)};static \u0275cmp=U({type:p,selectors:[["app-object-mutations"]],decls:38,vars:6,consts:[[1,"example-section"],[1,"button-group"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"log-container"],[1,"log"]],template:function(l,n){l&1&&(i(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e(3,"Object Mutations - Signal Reactivity Issues"),t()(),i(4,"mat-card-content")(5,"p"),e(6," Mutating objects without changing the reference won't trigger signal updates. Always create new references with set() or update(). "),t(),i(7,"div",0)(8,"h3"),e(9,"Object Mutations"),t(),i(10,"div",1)(11,"button",2),d("click",function(){return n.mutateDirectly()}),e(12,"\u274C Mutate Directly"),t(),i(13,"button",2),d("click",function(){return n.updateIncorrectly()}),e(14,"\u274C Update Incorrectly"),t(),i(15,"button",3),d("click",function(){return n.updateReference()}),e(16," \u2713 Update Reference "),t(),i(17,"button",3),d("click",function(){return n.updateCorrectly()}),e(18," \u2713 Update Correctly "),t()(),i(19,"div",4)(20,"div",5)(21,"strong"),e(22,"Bad (Direct Mutation)"),t(),o(23,"br"),e(24),o(25,"br"),e(26),o(27,"br"),e(28),t(),i(29,"div",5)(30,"strong"),e(31,"Good (New Reference)"),t(),o(32,"br"),e(33),o(34,"br"),e(35),o(36,"br"),e(37),t()()()()()),l&2&&(r(24),s(" Name: ",n.badUser().name),r(2),s(" Age: ",n.badUser().age),r(2),s(" Age (Computed): ",n.badUserAge()," "),r(5),s(" Name: ",n.goodUser().name),r(2),s(" Age: ",n.goodUser().age),r(2),s(" Age (Computed): ",n.goodUserAge()," "))},dependencies:[h,f,C,_,M,y,v],encapsulation:2,changeDetection:0})};export{x as ObjectMutationsComponent};
