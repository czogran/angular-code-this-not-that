import{b as k,c as P}from"./chunk-2WW22MLQ.js";import"./chunk-VZSSPM6Z.js";import{a as f,b as _,c as M,f as v,g as O}from"./chunk-4TPATSYR.js";import"./chunk-6K3Y7BDI.js";import"./chunk-EYALUUED.js";import{$b as w,Hb as c,Oa as i,Ub as h,Wb as n,X as d,Yb as l,Zb as I,_b as x,bb as p,ma as u,mc as b,nc as g,wb as o,xb as t}from"./chunk-WWHZWTZN.js";import"./chunk-2NFLSA4Y.js";var y=class s{immutableCounter=b.required();mutableCounter=b.required();localCounter=u({value:0});checkCount=u(0);isChecking=u(!1);cdr=d(g);ngDoCheck(){try{this.cdr.checkNoChanges()}catch{this.checkCount.update(a=>a+1),this.isChecking.set(!0),setTimeout(()=>this.isChecking.set(!1),300)}}incrementGlobalImmutable(){this.immutableCounter.set({value:this.immutableCounter().value+1})}incrementGlobalMutable(){this.mutableCounter().value++,this.mutableCounter.set(this.mutableCounter())}incrementLocalImmutable(){this.localCounter.set({value:this.localCounter().value+1})}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=p({type:s,selectors:[["app-onpush-child-one"]],inputs:{immutableCounter:[1,"immutableCounter"],mutableCounter:[1,"mutableCounter"]},outputs:{immutableCounter:"immutableCounterChange",mutableCounter:"mutableCounterChange"},decls:29,vars:6,consts:[[1,"counters"],[1,"counter-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"note"]],template:function(a,e){a&1&&(o(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3,"Child Component 1 (OnPush)"),t()(),o(4,"mat-card-content")(5,"div",0)(6,"div",1)(7,"p")(8,"strong"),n(9,"Global Immutable Counter:"),t(),n(10),t(),o(11,"button",2),c("click",function(){return e.incrementGlobalImmutable()}),n(12," Increment Global (Immutable) "),t()(),o(13,"div",1)(14,"p")(15,"strong"),n(16,"Global Mutable Counter:"),t(),n(17),t(),o(18,"button",3),c("click",function(){return e.incrementGlobalMutable()}),n(19," Increment Global (Mutate) "),t()(),o(20,"div",1)(21,"p")(22,"strong"),n(23,"Local Counter:"),t(),n(24),t(),o(25,"button",2),c("click",function(){return e.incrementLocalImmutable()}),n(26," Increment Local "),t()()(),o(27,"p",4),n(28),t()()()),a&2&&(h("flash",e.isChecking()),i(10),l(" ",e.immutableCounter().value),i(7),l(" ",e.mutableCounter().value),i(7),l(" ",e.localCounter().value),i(4),l("Change Detection Runs: ",e.checkCount()))},dependencies:[O,f,M,v,_,P,k],styles:["mat-card.flash[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flash .5s ease}@keyframes _ngcontent-%COMP%_flash{0%,50%{background-color:var(--flash-color, #ff9800);transform:scale(1.02);box-shadow:0 4px 12px var(--flash-shadow, rgba(255, 152, 0, .6))}to{background-color:#fff;transform:scale(1);box-shadow:none}}.note[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:#666}button[_ngcontent-%COMP%]{margin-top:.5rem}.children[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}mat-card[_ngcontent-%COMP%]{--flash-color: #673ab7;--flash-shadow: rgba(103, 58, 183, .6)}.counters[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem 0}.counter-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"],changeDetection:0})};var D=class s{immutableCounter=b.required();mutableCounter=b.required();localCounter=u({value:0});checkCount=u(0);isChecking=u(!1);cdr=d(g);ngDoCheck(){try{this.cdr.checkNoChanges()}catch{this.checkCount.update(a=>a+1),this.isChecking.set(!0),setTimeout(()=>this.isChecking.set(!1),300)}}incrementGlobalImmutable(){this.immutableCounter.set({value:this.immutableCounter().value+1})}incrementGlobalMutable(){this.mutableCounter().value++,this.mutableCounter.set(this.mutableCounter())}incrementLocalImmutable(){this.localCounter.set({value:this.localCounter().value+1})}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=p({type:s,selectors:[["app-onpush-child-two"]],inputs:{immutableCounter:[1,"immutableCounter"],mutableCounter:[1,"mutableCounter"]},outputs:{immutableCounter:"immutableCounterChange",mutableCounter:"mutableCounterChange"},decls:29,vars:6,consts:[[1,"counters"],[1,"counter-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"note"]],template:function(a,e){a&1&&(o(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3,"Child Component 2 (OnPush)"),t()(),o(4,"mat-card-content")(5,"div",0)(6,"div",1)(7,"p")(8,"strong"),n(9,"Global Immutable Counter:"),t(),n(10),t(),o(11,"button",2),c("click",function(){return e.incrementGlobalImmutable()}),n(12," Increment Global (Immutable) "),t()(),o(13,"div",1)(14,"p")(15,"strong"),n(16,"Global Mutable Counter:"),t(),n(17),t(),o(18,"button",3),c("click",function(){return e.incrementGlobalMutable()}),n(19," Increment Global (Mutate) "),t()(),o(20,"div",1)(21,"p")(22,"strong"),n(23,"Local Counter:"),t(),n(24),t(),o(25,"button",2),c("click",function(){return e.incrementLocalImmutable()}),n(26," Increment Local "),t()()(),o(27,"p",4),n(28),t()()()),a&2&&(h("flash",e.isChecking()),i(10),l(" ",e.immutableCounter().value),i(7),l(" ",e.mutableCounter().value),i(7),l(" ",e.localCounter().value),i(4),l("Change Detection Runs: ",e.checkCount()))},dependencies:[O,f,M,v,_,P,k],styles:["mat-card.flash[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flash .5s ease}@keyframes _ngcontent-%COMP%_flash{0%,50%{background-color:var(--flash-color, #ff9800);transform:scale(1.02);box-shadow:0 4px 12px var(--flash-shadow, rgba(255, 152, 0, .6))}to{background-color:#fff;transform:scale(1);box-shadow:none}}.note[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:#666}button[_ngcontent-%COMP%]{margin-top:.5rem}.children[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}mat-card[_ngcontent-%COMP%]{--flash-color: #e91e63;--flash-shadow: rgba(233, 30, 99, .6)}.counters[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem 0}.counter-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"],changeDetection:0})};var G=class s{immutableCounter=u({value:0});mutableCounter=u({value:0});checkCount=u(0);isChecking=u(!1);cdr=d(g);ngDoCheck(){try{this.cdr.checkNoChanges()}catch{this.checkCount.update(a=>a+1),this.isChecking.set(!0),setTimeout(()=>this.isChecking.set(!1),300)}}incrementImmutable(){this.immutableCounter.set({value:this.immutableCounter().value+1})}incrementMutable(){this.mutableCounter().value++,this.mutableCounter.set(this.mutableCounter())}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=p({type:s,selectors:[["app-onpush"]],decls:25,vars:9,consts:[[1,"counters"],[1,"counter-group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"note"],[1,"children"],[3,"immutableCounterChange","mutableCounterChange","immutableCounter","mutableCounter"]],template:function(a,e){a&1&&(o(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3,"Parent Component (OnPush)"),t()(),o(4,"mat-card-content")(5,"div",0)(6,"div",1)(7,"p")(8,"strong"),n(9,"Immutable Counter:"),t(),n(10),t(),o(11,"button",2),c("click",function(){return e.incrementImmutable()}),n(12," Increment Immutable (New Object) "),t()(),o(13,"div",1)(14,"p")(15,"strong"),n(16,"Mutable Counter:"),t(),n(17),t(),o(18,"button",3),c("click",function(){return e.incrementMutable()}),n(19," Increment Mutable (Mutate) "),t()()(),o(20,"p",4),n(21),t()()(),o(22,"div",5)(23,"app-onpush-child-one",6),w("immutableCounterChange",function(r){return x(e.immutableCounter,r)||(e.immutableCounter=r),r})("mutableCounterChange",function(r){return x(e.mutableCounter,r)||(e.mutableCounter=r),r}),t(),o(24,"app-onpush-child-two",6),w("immutableCounterChange",function(r){return x(e.immutableCounter,r)||(e.immutableCounter=r),r})("mutableCounterChange",function(r){return x(e.mutableCounter,r)||(e.mutableCounter=r),r}),t()()),a&2&&(h("flash",e.isChecking()),i(10),l(" ",e.immutableCounter().value),i(7),l(" ",e.mutableCounter().value),i(4),l("Change Detection Runs: ",e.checkCount()),i(2),I("immutableCounter",e.immutableCounter)("mutableCounter",e.mutableCounter),i(),I("immutableCounter",e.immutableCounter)("mutableCounter",e.mutableCounter))},dependencies:[O,f,M,v,_,P,k,y,D],styles:["mat-card.flash[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flash .5s ease}@keyframes _ngcontent-%COMP%_flash{0%,50%{background-color:var(--flash-color, #ff9800);transform:scale(1.02);box-shadow:0 4px 12px var(--flash-shadow, rgba(255, 152, 0, .6))}to{background-color:#fff;transform:scale(1);box-shadow:none}}.note[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:#666}button[_ngcontent-%COMP%]{margin-top:.5rem}.children[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}mat-card[_ngcontent-%COMP%]{--flash-color: #9c27b0;--flash-shadow: rgba(156, 39, 176, .6)}.counters[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem 0}.counter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.counter-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.counter-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start}"],changeDetection:0})};export{G as OnpushComponent};
