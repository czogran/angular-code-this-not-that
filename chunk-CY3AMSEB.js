import{b as E,c as y}from"./chunk-2WW22MLQ.js";import"./chunk-VZSSPM6Z.js";import{a as u,b as L,c as C,f as v,g as k}from"./chunk-4TPATSYR.js";import"./chunk-6K3Y7BDI.js";import"./chunk-EYALUUED.js";import{Hb as a,Oa as l,Wb as e,Xb as d,bb as c,ma as s,wb as t,xb as n}from"./chunk-WWHZWTZN.js";import"./chunk-2NFLSA4Y.js";var f=class m{leakedListenerCount=s(0);properListenerCount=s(0);leakyListeners=[];properHandler=()=>{console.log("Proper Listener Clicked!"),this.properListenerCount.update(i=>i+1)};leakyListen(){let i=()=>{console.log("Leaky Listener Clicked!"),this.leakedListenerCount.update(r=>r+1)};document.addEventListener("click",i),this.leakyListeners.push(i)}properListen(){document.addEventListener("click",this.properHandler)}properCleanup(){document.removeEventListener("click",this.properHandler)}ngOnDestroy(){console.log("\u{1F5D1}\uFE0F EventListenersComponent destroyed"),document.removeEventListener("click",this.properHandler)}static \u0275fac=function(r){return new(r||m)};static \u0275cmp=c({type:m,selectors:[["app-event-listeners-section"]],decls:26,vars:2,consts:[[1,"example-section"],["mat-raised-button","",3,"click"],[1,"log"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,o){r&1&&(t(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e(3,"Event Listener Memory Leaks"),n()(),t(4,"mat-card-content")(5,"p"),e(6," Event listeners added with "),t(7,"code"),e(8,"addEventListener()"),n(),e(9," must be explicitly removed or they persist, causing memory leaks. "),n(),t(10,"div",0)(11,"h3"),e(12,"\u274C Memory Leak Example"),n(),t(13,"button",1),a("click",function(){return o.leakyListen()}),e(14,"Add Listener (Leaks)"),n(),t(15,"p",2),e(16),n()(),t(17,"div",0)(18,"h3"),e(19,"\u2713 Correct Example"),n(),t(20,"button",3),a("click",function(){return o.properListen()}),e(21," Add Listener (Cleaned) "),n(),t(22,"button",1),a("click",function(){return o.properCleanup()}),e(23,"Cleanup Listener"),n(),t(24,"p",2),e(25),n()()()()),r&2&&(l(16),d(o.leakedListenerCount()),l(9),d(o.properListenerCount()))},dependencies:[k,u,C,v,L,y,E],encapsulation:2,changeDetection:0})};export{f as EventListenersComponent};
